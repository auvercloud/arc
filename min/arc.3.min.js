var arc={DEBUG:false&&window.console,APP_KEY:"",APP_NAME:"",API_URL:"https://api.auvercloud.com/",DOM_PREFIX:"arc",SMARTPHONE_MAX_WIDTH:600,FOREVER:9876543210000,cake:{test:function(){var b="cakeOK";var a=false;sessionStorage.setItem(b,b);localStorage.setItem(b,b);if((sessionStorage.getItem(b)==b)&&(localStorage.getItem(b)==b)){sessionStorage.removeItem(b);localStorage.removeItem(b);a=true}return a},erase:function(b,a){a=$.extend({key:arc.APP_KEY,app:arc.APP_NAME},a);b=a.key+"_"+a.app+"_"+b;sessionStorage.removeItem(b);localStorage.removeItem(b);return true},write:function(b,c,a){a=$.extend({expire:9876543210000,key:arc.APP_KEY,app:arc.APP_NAME},a);b=a.key+"_"+a.app+"_"+b;if(a.expire>0){localStorage.setItem(b,JSON.stringify({body:c,expire:a.expire}))}else{sessionStorage.setItem(b,JSON.stringify(c))}return c},read:function(b,a){a=$.extend({key:arc.APP_KEY,app:arc.APP_NAME},a);b=a.key+"_"+a.app+"_"+b;var c=sessionStorage.getItem(b);if(c){return JSON.parse(c)}else{c=localStorage.getItem(b);if(c){c=JSON.parse(c);if(c.expire>new Date().getTime()){return c.body}else{localStorage.removeItem(b);return false}}else{return false}}}},device:{os:function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("iemobile")!=-1){return"wphone"}if(a.indexOf("windows")!=-1){return"windows"}if((a.indexOf("iphone")!=-1)||(a.indexOf("ipod")!=-1)||(a.indexOf("ipad")!=-1)){return"ios"}if(a.indexOf("android")!=-1){return"android"}if((a.indexOf("mac")!=-1)&&(a.indexOf("iphone")==-1)&&(a.indexOf("ipod")==-1)&&(a.indexOf("ipad")==-1)){return"osx"}if(a.indexOf("linux")!=-1){return"linux"}return"other"},browser:function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("edge")!=-1){return"edge"}if(a.indexOf("chrome")!=-1){return"chrome"}if(a.indexOf("firefox")!=-1){return"firefox"}if(a.indexOf("opera")!=-1){return"opera"}if(a.indexOf("silk")!=-1){return"silk"}if(a.indexOf("crios")!=-1&&a.indexOf("safari")!=-1){return"mchrome"}if(a.indexOf("mobile")!=-1&&a.indexOf("safari")!=-1){return"msafari"}if(a.indexOf("safari")!=-1){return"safari"}if(a.indexOf("msie")!=-1){return"msie"}return"other"},type:function(){var a=arc.device.os();if($(window).width()<arc.SMARTPHONE_MAX_WIDTH&&(a=="android"||a=="ios"||a=="wphone")){return"smartphone"}if(a=="android"||a=="ios"||a=="wphone"){return"tablet"}if(a=="windows"||a=="osx"||a=="linux"){return"computer"}return"other"},fingerprint:function(){var a=arc.cake.read("fingerprint");if(a){return a}var b=new Date().getTime();a="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(b+Math.random()*16)%16|0;b=Math.floor(b/16);return(e=="x"?d:(d&3|8)).toString(16)});arc.cake.write("fingerprint",a);return a},lang:function(b){if(!b){var a=arc.cake.read("lang");if(a){b=a}else{var c=$("html").attr("lang");if(c){b=c}else{b=(window.navigator.userLanguage||window.navigator.language).substr(0,2).toLowerCase()}}}arc.cake.write("lang",b);return b}},api:function(c,a){c=$.extend({key:arc.APP_KEY,api:"version",deviceOS:arc.device.os(),deviceType:arc.device.type(),deviceBrowser:arc.device.browser()},c);a=$.extend({url:arc.API_URL,method:"post",success:function(d){if(arc.DEBUG){console.log("- arc: Default success callback to",c.api,"=",d)}},error:function(d,f,e){alert("Network error. Please retry later:",f,e)},up:function(d){if(arc.DEBUG){console.log("- arc: Default API progress Up",d)}},down:function(d){if(arc.DEBUG){console.log("- arc: Default API progress Down",d)}},session:false},a);if(a.session){$.extend(c,{uuid:arc.cake.read("uuid"),usid:arc.cake.read("usid"),eost:arc.cake.read("eost"),udid:arc.device.fingerprint()})}try{$.ajax({xhr:function(){var d=new window.XMLHttpRequest();d.upload.addEventListener("progress",function(f){if(f.lengthComputable){a.up(f.loaded/f.total)}},false);d.addEventListener("progress",function(f){if(f.lengthComputable){a.down(f.loaded/f.total)}},false);return d},url:a.url,type:a.method,dataType:"json",data:c,success:function(d){a.success(d);if(arc.DEBUG){console.log("- arc: API response",c.api,"===>",d)}},error:function(d){a.error(d);if(arc.DEBUG){console.log("- arc: API failure",c.api,"===>",d)}}});if(arc.DEBUG){console.log("- arc:",a.method+":",c)}return true}catch(b){if(arc.DEBUG){console.log("- arc:",a.method,"=> Error",b)}return false}},sessionStore:function(b,a){a=$.extend({key:arc.APP_KEY,app:arc.APP_NAME,expire:b.eost*1000},a);arc.cake.erase("uuid",a);arc.cake.erase("usid",a);arc.cake.erase("udid",a);arc.cake.erase("eost",a);arc.cake.write("uuid",b.uuid,a);arc.cake.write("usid",b.usid,a);arc.cake.write("udid",b.udid,a);arc.cake.write("eost",b.eost,a);if(arc.DEBUG){var c=new Date(b.eost*1000);console.log("- arc: Session set until",c.toUTCString())}},run:function(h,j){var b=$.extend({name:"",debug:false,slideshow:true,callback:false},j);arc.APP_NAME=b.name;arc.DEBUG=b.debug;if(!h){if(arc.DEBUG){console.log("- arc: Application key is missing")}return}else{arc.APP_KEY=h}var a=["text","picture","menu"];var c={text:0,picture:0,menu:0,log:0};var f=0;var d=0;var g=false;var e=function(){if(arc.DEBUG){console.log("- arc: Finalize content UI")}if(b.slideshow){$(".arc-sc").slideshow()}if(typeof b.callback=="function"){b.callback()}};var i=function(){d=d+1;var k=f-d;if(arc.DEBUG){console.log("- arc: Content(s) to load",k)}if(g&&k<1){e()}};a.forEach(function(k){c[k]=0;$("["+arc.DOM_PREFIX+"-"+k+"]").each(function(){c[k]=c[k]+1;var l=$(this);var m=l.attr(arc.DOM_PREFIX+"-"+k);l.removeAttr(arc.DOM_PREFIX+"-"+k);arc.api({api:"content_pub",cname:m,ctype:k,output:"json"},{method:"get",error:function(){l.html("<h1 style='background:red;color:white'>Connection error. Please retry later</h1>");if(arc.DEBUG){console.log("- arc:",k,m,"loading failed")}},success:function(n){if(n.code!="200"){l.html("<h1 style='color:white'>Error "+n.code+": "+n.msg+"</h1>").css("background-color","#f00").addClass("arc-style-normal");return}l.html(n.data);if(arc.DEBUG){console.log("- arc:",k,m,"loaded")}i()}})})});$("["+arc.DOM_PREFIX+"-log]").each(function(){c.log=c.log+1;var k=$(this);var l=k.attr(arc.DOM_PREFIX+"-log");k.removeAttr(arc.DOM_PREFIX+"-log");arc.api({api:"content_log",cname:l,output:"json"},{method:"get",error:function(){box.html("<h1 style='background:red;color:white'>Connection error. Please retry later</h1>");if(arc.DEBUG){console.log("- arc:",ctype,l,"loading failed")}},success:function(m){if(m.code!="200"){k.html("<h1 style='color:white'>Error "+m.code+": "+m.msg+"</h1>").css("background-color","#f00").addClass("arc-style-normal");return}k.html(m.data);k.find(".arc-log > div > span").click(function(){$(this).parent().siblings("li").slideToggle();if($(this).html()=="-"){$(this).html("+")}else{$(this).html("-")}});if(arc.DEBUG){console.log("- arc:","log",l,"loaded")}i()}})});g=true;f=c.text+c.picture+c.menu+c.log;if(f==0){e()}if(arc.DEBUG){console.log("- arc:",c.text,"text(s)");console.log("- arc:",c.picture,"picture(s)");console.log("- arc:",c.menu,"menu(s)");console.log("- arc:",c.log,"log(s)")}}};(function(){$.fn.slideshow=function(l){var f=$.extend({no_anim:false},l);var c=$(this);var e=c.data("arc-fx");var d=c.data("arc-time");var j=c.data("arc-loop");var g=0;var i=0;var h=c.find(".arc-sc-list > div").length;var b=["fade","slide","wipeRight","wipeLeft","pushRight","pushLeft","pushUp","pushDown"];var a=function(m){c.find(".arc-sc-bullet > div > div").removeClass("arc-sc-bullet-active").addClass("arc-sc-bullet-idle");c.find(".arc-sc-bullet > div > div:nth-child("+m+")").removeClass("arc-sc-bullet-idle").addClass("arc-sc-bullet-active")};c.find(".arc-sc-handler > div > div").unbind("click").click(function(){if($(this).hasClass("arc-handler-left")){i=i-1;if(i<0){i=h-1}}else{i=i+1;if(i>=h){i=0}}var m=c.data("timer");clearTimeout(m);c.find(".arc-sc-list > div").hide().css("top",0).css("left",0).finish();c.find(".arc-sc-list > div:nth-child("+(i+1)+")").show();a(i+1)});var k=function(q,o){i=o;q=o;o=o+1;if(o>h){o=1;g=g+1}if(j!=0&&g>j){return}var p=c.find(".arc-sc-list > div:nth-child("+q+")");var n=c.find(".arc-sc-list > div:nth-child("+o+")");a(o);var m=e;if(e=="random"){m=b[Math.floor(Math.random()*(b.length-1))]}switch(m){case"fade":p.fadeOut(1000);n.fadeIn(1000);break;case"slide":p.fadeOut(1000);n.slideDown(1000);break;case"wipeRight":n.css("left",c.width()).show();p.fadeOut(1000);n.animate({left:0},1000);break;case"wipeLeft":n.css("left",-c.width()).show();p.fadeOut(1000);n.animate({left:0},1000);break;case"pushLeft":n.css("left",c.width()).show();p.animate({left:-c.width()},1000,function(){p.css("left",0).hide()});n.animate({left:0},1000);break;case"pushRight":n.css("left",-c.width()).show();p.animate({left:c.width()},1000,function(){p.css("left",0).hide()});n.animate({left:0},1000);break;case"pushUp":n.css("top",c.height()).show();p.animate({top:-c.height()},1000,function(){p.css("top",0).hide()});n.animate({top:0},1000);break;case"pushDown":n.css("top",-c.height()).show();p.animate({top:c.height()},1000,function(){p.css("top",0).hide()});n.animate({top:0},1000);break;default:p.fadeOut(1000);n.fadeIn(1000);break}c.data("timer",setTimeout(function(){k(q,o)},d-1000))};c.find(".arc-sc-list > div").hide();c.find(".arc-sc-list > div:first-child").show();c.find(".arc-sc-bullet > div > div").removeClass("arc-sc-bullet-active").addClass("arc-sc-bullet-idle");c.find(".arc-sc-bullet > div > div:first-child").removeClass("arc-sc-bullet-idle").addClass("arc-sc-bullet-active");if(h<2||f.no_anim){return}c.data("timer",setTimeout(function(){k(0,1)},d-1000))}}(jQuery));